# =========================================================
# TrendAgent Environment Template
# Copy to .env and fill secrets before deployment
# =========================================================

# =========================
# App
# =========================
APP_ENV=development
DEBUG=true
PORT=8090

# =========================
# Auth
# =========================
JWT_SECRET=replace-with-a-long-random-secret
AUTH_TOKEN_EXPIRES_SECONDS=86400
AUTH_REGISTRATION_ENABLED=true
AUTH_DB_PATH=trend_auth_users.db

# =========================
# Orchestration
# =========================
LANGGRAPH_REQUIRED=false
CHECKPOINT_AUTO_SAVE=true
CHECKPOINT_STORE=memory

# =========================
# LLM (primary + fallback)
# =========================
LLM_PRIMARY_BACKEND=zhipu
ZHIPU_API_KEY=
ZHIPU_BASE_URL=https://open.bigmodel.cn/api/paas/v4
ZHIPU_MODEL=glm-4-flash

OPENAI_API_KEY=
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_MODEL=gpt-4o-mini

OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=qwen2.5:7b

LLM_TEMPERATURE=0.7
LLM_MAX_TOKENS=2048
LLM_RETRY_MAX_ATTEMPTS=3
LLM_RETRY_BASE_DELAY_SECONDS=0.5
LLM_TIMEOUT_SECONDS=60
LLM_FALLBACK_ENABLED=true
LLM_FALLBACK_BACKEND=ollama

# =========================
# Scrapers
# =========================
SCRAPER_ENABLED_SOURCES=twitter,youtube,weibo,bilibili,zhihu
SCRAPER_TIMEOUT_SECONDS=30
CONCURRENT_SCRAPERS=5

TWITTER_BEARER_TOKEN=
TWITTER_MAX_RESULTS=100

YOUTUBE_API_KEY=
YOUTUBE_MAX_RESULTS=50
YOUTUBE_REGION_CODE=US

WEIBO_ACCESS_TOKEN=
BILIBILI_SESSDATA=
ZHIHU_COOKIE=

# =========================
# Publishers
# =========================
WECHAT_APP_ID=
WECHAT_APP_SECRET=
XIAOHONGSHU_COOKIE=
DOUYIN_ACCESS_TOKEN=
WEIBO_PUBLISH_TOKEN=

PUBLISH_RETRY_MAX=3
PUBLISH_RETRY_DELAY=5

# =========================
# Video Generation
# =========================
VIDEO_DEFAULT_PROVIDER=keling
VIDEO_FALLBACK_ENABLED=true
VIDEO_POLL_INTERVAL=10
VIDEO_POLL_MAX_WAIT=600

KELING_ACCESS_KEY=
KELING_SECRET_KEY=
KELING_BASE_URL=https://api.klingai.com/v1

RUNWAY_API_KEY=
RUNWAY_BASE_URL=https://api.dev.runwayml.com/v1

PIKA_API_KEY=
PIKA_BASE_URL=https://api.pika.art/v1

# =========================
# Quality
# =========================
SENSITIVE_WORD_LIST=
QUALITY_MIN_BODY_LENGTH=100
QUALITY_MAX_SIMILARITY=0.85
QUALITY_LLM_REVIEW=false

# =========================
# Database
# SQLite default for dev. Example Postgres:
# DATABASE_URL=postgresql+asyncpg://user:pass@postgres:5432/trend_agent
# =========================
DATABASE_URL=sqlite+aiosqlite:///data/trend_agent.db
DB_ECHO=false
DB_POOL_SIZE=10

# =========================
# Scheduler
# =========================
SCHEDULER_ENABLED=true
SCHEDULER_TIMEZONE=Asia/Shanghai
SCHEDULER_MISFIRE_GRACE=300

# =========================
# Media
# =========================
MEDIA_BACKEND=local
MEDIA_LOCAL_PATH=./media

MEDIA_S3_BUCKET=
MEDIA_S3_ENDPOINT=
MEDIA_S3_ACCESS_KEY=
MEDIA_S3_SECRET_KEY=

# =========================
# Monitoring
# =========================
GF_SECURITY_ADMIN_PASSWORD=admin123
